<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/REALTIME_DATABASE_IMPLEMENTACION.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/REALTIME_DATABASE_IMPLEMENTACION.md" />
              <option name="updatedContent" value="#  Firebase Realtime Database - Season Overview&#10;&#10;## ✅ Implementación Completada&#10;&#10;He implementado la extracción de datos del Season Overview desde **Firebase Realtime Database** siguiendo Clean Architecture.&#10;&#10;---&#10;&#10;##  Estructura de Datos en Firebase&#10;&#10;### Path en Realtime Database:&#10;```&#10;overview/&#10;├── races: &quot;12&quot;&#10;├── podiums: 7&#10;├── sc: 14&#10;├── next: &quot;Cochabamba&quot;&#10;├── weather: &quot;Rainy&quot;&#10;└── fp1: &quot;Saturday&quot;&#10;```&#10;&#10;### Mapeo a la App:&#10;```kotlin&#10;data class HomeOverview(&#10;    val racesCompleted: Int,      // ← races&#10;    val driversOnPodium: Int,     // ← podiums&#10;    val safetyCars: Int,          // ← sc&#10;    val nextRace: String,         // ← next&#10;    val weather: String,          // ← weather&#10;    val firstPractice: String     // ← fp1&#10;)&#10;```&#10;&#10;---&#10;&#10;##  Archivos Creados (7 archivos)&#10;&#10;### Domain Layer&#10;```&#10;✅ HomeOverview.kt - Modelo de datos&#10;✅ HomeRepository.kt - Interface del repositorio&#10;✅ GetHomeOverviewUseCase.kt - Caso de uso&#10;```&#10;&#10;### Data Layer&#10;```&#10;✅ HomeRemoteDataSource.kt - Interface del data source&#10;✅ HomeRepositoryImpl.kt - Implementación del repositorio&#10;```&#10;&#10;### Framework Layer&#10;```&#10;✅ FirebaseHomeDataSource.kt - Implementación con Firebase Realtime Database&#10;```&#10;&#10;### DI Layer&#10;```&#10;✅ HomeModule.kt - Módulo Koin para Home&#10;```&#10;&#10;---&#10;&#10;##  Archivos Modificados (2)&#10;&#10;### 1. App.kt&#10;```kotlin&#10;modules(appModule, authModule, remoteConfigModule, homeModule)&#10;```&#10;&#10;### 2. di/modules.kt&#10;```kotlin&#10;// Eliminadas las dependencias de Home (ahora en homeModule)&#10;```&#10;&#10;---&#10;&#10;##  Cómo Funciona&#10;&#10;### Flujo de Datos:&#10;```&#10;Firebase Realtime Database&#10;        ↓&#10;    Path: &quot;overview&quot;&#10;        ↓&#10;FirebaseHomeDataSource&#10;        ↓&#10;  HomeRepositoryImpl&#10;        ↓&#10;GetHomeOverviewUseCase&#10;        ↓&#10;    HomeViewModel&#10;        ↓&#10;    HomeScreen (UI)&#10;```&#10;&#10;### Proceso de Carga:&#10;```kotlin&#10;1. HomeViewModel se inicia&#10;2. loadData() ejecuta:&#10;   - getHomeOverviewUseCase()&#10;3. FirebaseHomeDataSource lee de Firebase:&#10;   - database.getReference(&quot;overview&quot;)&#10;4. Parsea los datos según la estructura&#10;5. Retorna HomeOverview&#10;6. _state.value se actualiza&#10;7. HomeScreen muestra los datos&#10;```&#10;&#10;---&#10;&#10;##  Configurar Datos en Firebase&#10;&#10;### Paso 1: Ir a Firebase Console&#10;```&#10;https://console.firebase.google.com/&#10;```&#10;&#10;### Paso 2: Realtime Database&#10;```&#10;Menú → Realtime Database&#10;```&#10;&#10;### Paso 3: Crear Estructura&#10;```json&#10;{&#10;  &quot;overview&quot;: {&#10;    &quot;races&quot;: &quot;12&quot;,&#10;    &quot;podiums&quot;: 7,&#10;    &quot;sc&quot;: 14,&#10;    &quot;next&quot;: &quot;Cochabamba&quot;,&#10;    &quot;weather&quot;: &quot;Rainy&quot;,&#10;    &quot;fp1&quot;: &quot;Saturday&quot;&#10;  }&#10;}&#10;```&#10;&#10;### Formato Visual:&#10;```&#10;Firebase Realtime Database&#10;└── overview&#10;    ├── races: &quot;12&quot;&#10;    ├── podiums: 7&#10;    ├── sc: 14&#10;    ├── next: &quot;Cochabamba&quot;&#10;    ├── weather: &quot;Rainy&quot;&#10;    └── fp1: &quot;Saturday&quot;&#10;```&#10;&#10;---&#10;&#10;##  Campos Explicados&#10;&#10;### races (String → Int)&#10;- **Descripción:** Número de carreras completadas&#10;- **Tipo en Firebase:** String&#10;- **Tipo en App:** Int&#10;- **Ejemplo:** &quot;12&quot;&#10;- **Muestra como:** &quot;12&quot; en &quot;Races&quot;&#10;&#10;### podiums (Number)&#10;- **Descripción:** Número de podios&#10;- **Tipo en Firebase:** Number&#10;- **Tipo en App:** Int&#10;- **Ejemplo:** 7&#10;- **Muestra como:** &quot;7&quot; en &quot;Podiums&quot;&#10;&#10;### sc (Number)&#10;- **Descripción:** Safety Cars desplegados&#10;- **Tipo en Firebase:** Number&#10;- **Tipo en App:** Int&#10;- **Ejemplo:** 14&#10;- **Muestra como:** &quot;14&quot; en &quot;SC&quot;&#10;&#10;### next (String)&#10;- **Descripción:** Próxima carrera&#10;- **Tipo en Firebase:** String&#10;- **Tipo en App:** String&#10;- **Ejemplo:** &quot;Cochabamba&quot;&#10;- **Muestra como:** Card &quot;Next Race&quot;&#10;&#10;### weather (String)&#10;- **Descripción:** Clima esperado&#10;- **Tipo en Firebase:** String&#10;- **Tipo en App:** String&#10;- **Ejemplo:** &quot;Rainy&quot;&#10;- **Muestra como:** Card &quot;Weather&quot;&#10;&#10;### fp1 (String)&#10;- **Descripción:** Día de la primera práctica&#10;- **Tipo en Firebase:** String&#10;- **Tipo en App:** String&#10;- **Ejemplo:** &quot;Saturday&quot;&#10;- **Muestra como:** Card &quot;FP1&quot;&#10;&#10;---&#10;&#10;##  Logs Implementados&#10;&#10;### En FirebaseHomeDataSource:&#10;```&#10;D/FirebaseHomeDataSource: Fetching overview from path: overview&#10;D/FirebaseHomeDataSource: Data received: {races=12, podiums=7, sc=14, ...}&#10;D/FirebaseHomeDataSource: Overview parsed: HomeOverview(racesCompleted=12, ...)&#10;```&#10;&#10;### En caso de error:&#10;```&#10;E/FirebaseHomeDataSource: Error parsing overview data&#10;E/FirebaseHomeDataSource: Database error: [mensaje de error]&#10;```&#10;&#10;---&#10;&#10;##  Probar la Implementación&#10;&#10;### Test 1: Datos Básicos&#10;```&#10;1. Configura datos en Firebase:&#10;   - races: &quot;12&quot;&#10;   - podiums: 7&#10;   - sc: 14&#10;   - next: &quot;Cochabamba&quot;&#10;   - weather: &quot;Rainy&quot;&#10;   - fp1: &quot;Saturday&quot;&#10;&#10;2. Abre la app&#10;3. Ve a Home Screen&#10;✅ Deberías ver todos los datos&#10;```&#10;&#10;### Test 2: Cambiar Valores&#10;```&#10;1. En Firebase, cambia:&#10;   - next: &quot;Las Vegas&quot;&#10;   - weather: &quot;Sunny&quot;&#10;&#10;2. Reinicia la app&#10;✅ Deberías ver los nuevos valores&#10;```&#10;&#10;### Test 3: Sin Datos&#10;```&#10;1. Elimina el nodo &quot;overview&quot; en Firebase&#10;2. Abre la app&#10;✅ Deberías ver valores por defecto (0, &quot;&quot;, etc.)&#10;```&#10;&#10;---&#10;&#10;##  Arquitectura Implementada&#10;&#10;```&#10;┌─────────────────────────────────────────┐&#10;│         Presentation Layer              │&#10;│    (HomeScreen + HomeViewModel)         │&#10;└──────────────┬──────────────────────────┘&#10;               │&#10;┌──────────────▼──────────────────────────┐&#10;│          Domain Layer                   │&#10;│  (GetHomeOverviewUseCase + Repository)  │&#10;└──────────────┬──────────────────────────┘&#10;               │&#10;┌──────────────▼──────────────────────────┐&#10;│           Data Layer                    │&#10;│  (HomeRepositoryImpl + DataSource)      │&#10;└──────────────┬──────────────────────────┘&#10;               │&#10;┌──────────────▼──────────────────────────┐&#10;│         Framework Layer                 │&#10;│    (FirebaseHomeDataSource)             │&#10;└──────────────┬──────────────────────────┘&#10;               │&#10;         ┌─────▼─────┐&#10;         │  Firebase  │&#10;         │  Realtime  │&#10;         │  Database  │&#10;         └───────────┘&#10;```&#10;&#10;---&#10;&#10;##  Características Implementadas&#10;&#10;### ✅ Clean Architecture&#10;- Domain: Models, Repository, Use Cases&#10;- Data: Repository Implementation, Data Sources&#10;- Framework: Firebase Integration&#10;- DI: Koin Module&#10;&#10;### ✅ Manejo de Errores&#10;- Try-catch en Firebase calls&#10;- Logs de errores&#10;- Valores por defecto si falla&#10;&#10;### ✅ Coroutines&#10;- suspendCancellableCoroutine para Firebase&#10;- ViewModelScope para operaciones async&#10;- StateFlow para UI reactiva&#10;&#10;### ✅ Logs para Debug&#10;- Path de Firebase&#10;- Datos recibidos&#10;- Parsing exitoso/fallido&#10;- Errores de base de datos&#10;&#10;---&#10;&#10;##  Actualizar Datos en Tiempo Real&#10;&#10;### Opción 1: Firebase Console (Manual)&#10;```&#10;1. Firebase Console → Realtime Database&#10;2. Edita los valores directamente&#10;3. Los cambios se guardan automáticamente&#10;4. Reinicia la app para ver cambios&#10;```&#10;&#10;### Opción 2: Listeners en Tiempo Real (Futuro)&#10;```kotlin&#10;// Para implementar después si quieres actualizaciones en vivo:&#10;reference.addValueEventListener(object : ValueEventListener {&#10;    override fun onDataChange(snapshot: DataSnapshot) {&#10;        // Actualizar automáticamente sin reiniciar&#10;    }&#10;})&#10;```&#10;&#10;---&#10;&#10;##  Casos de Uso&#10;&#10;### Actualizar Próxima Carrera&#10;```&#10;Firebase:&#10;  next: &quot;Las Vegas&quot;&#10;  weather: &quot;Clear&quot;&#10;  fp1: &quot;Friday&quot;&#10;&#10;Resultado:&#10;  Cards se actualizan con nueva información&#10;```&#10;&#10;### Actualizar Estadísticas de Temporada&#10;```&#10;Firebase:&#10;  races: &quot;15&quot;&#10;  podiums: 10&#10;  sc: 20&#10;&#10;Resultado:&#10;  Season Overview se actualiza&#10;```&#10;&#10;### Datos Especiales&#10;```&#10;Firebase:&#10;  next: &quot; Final Race&quot;&#10;  weather: &quot;️ Wet&quot;&#10;&#10;Resultado:&#10;  Puedes usar emojis y texto especial&#10;```&#10;&#10;---&#10;&#10;##  Troubleshooting&#10;&#10;### Problema: No Muestra Datos&#10;&#10;**Solución 1: Verificar Firebase**&#10;```&#10;1. Firebase Console → Realtime Database&#10;2. Verificar que existe el nodo &quot;overview&quot;&#10;3. Verificar que los campos existen&#10;4. Verificar reglas de lectura&#10;```&#10;&#10;**Solución 2: Ver Logs**&#10;```&#10;Logcat → Buscar &quot;FirebaseHomeDataSource&quot;&#10;Ver qué datos se están recibiendo&#10;```&#10;&#10;**Solución 3: Reglas de Firebase**&#10;```json&#10;{&#10;  &quot;rules&quot;: {&#10;    &quot;overview&quot;: {&#10;      &quot;.read&quot;: true,&#10;      &quot;.write&quot;: false&#10;    }&#10;  }&#10;}&#10;```&#10;&#10;### Problema: Muestra Valores por Defecto&#10;&#10;**Causa:** Firebase no tiene datos o no se puede conectar&#10;&#10;**Solución:**&#10;```&#10;1. Verificar internet&#10;2. Verificar datos en Firebase&#10;3. Ver logs para errores específicos&#10;```&#10;&#10;---&#10;&#10;##  Ejemplo Completo de Datos&#10;&#10;### Datos Reales de F1:&#10;```json&#10;{&#10;  &quot;overview&quot;: {&#10;    &quot;races&quot;: &quot;22&quot;,&#10;    &quot;podiums&quot;: 66,&#10;    &quot;sc&quot;: 18,&#10;    &quot;next&quot;: &quot;Abu Dhabi GP&quot;,&#10;    &quot;weather&quot;: &quot;Hot &amp; Dry&quot;,&#10;    &quot;fp1&quot;: &quot;Friday 13:30&quot;&#10;  }&#10;}&#10;```&#10;&#10;### Datos de Prueba:&#10;```json&#10;{&#10;  &quot;overview&quot;: {&#10;    &quot;races&quot;: &quot;5&quot;,&#10;    &quot;podiums&quot;: 15,&#10;    &quot;sc&quot;: 3,&#10;    &quot;next&quot;: &quot;Monaco GP&quot;,&#10;    &quot;weather&quot;: &quot;Sunny&quot;,&#10;    &quot;fp1&quot;: &quot;Thursday&quot;&#10;  }&#10;}&#10;```&#10;&#10;---&#10;&#10;## ✅ Resumen de Implementación&#10;&#10;### Archivos Creados: 7&#10;```&#10;Domain: 3 archivos&#10;Data: 2 archivos&#10;Framework: 1 archivo&#10;DI: 1 archivo&#10;```&#10;&#10;### Archivos Modificados: 2&#10;```&#10;App.kt - Agregado homeModule&#10;di/modules.kt - Limpiado de duplicados&#10;```&#10;&#10;### Funcionalidades:&#10;```&#10;✅ Lectura de Firebase Realtime Database&#10;✅ Clean Architecture&#10;✅ Manejo de errores&#10;✅ Logs para debugging&#10;✅ Valores por defecto&#10;✅ Coroutines y StateFlow&#10;✅ Dependency Injection&#10;```&#10;&#10;---&#10;&#10;##  Estado Final&#10;&#10;```&#10;┌─────────────────────────────────┐&#10;│   Firebase Realtime Database    │&#10;│   Season Overview               │&#10;│                                 │&#10;│  ✅ Implementación completa     │&#10;│  ✅ Clean Architecture          │&#10;│  ✅ Lectura desde Firebase      │&#10;│  ✅ Logs habilitados            │&#10;│  ✅ Manejo de errores           │&#10;│  ✅ UI reactiva                 │&#10;│                                 │&#10;│  ⏳ Pendiente:                  │&#10;│     • Sincronizar Gradle        │&#10;│     • Configurar datos Firebase │&#10;└─────────────────────────────────┘&#10;```&#10;&#10;---&#10;&#10;##  Próximos Pasos&#10;&#10;1. **Sincronizar Gradle**&#10;2. **Configurar datos en Firebase Realtime Database**&#10;3. **Ejecutar la app**&#10;4. **Ver logs en Logcat**&#10;5. **Verificar que los datos se muestran correctamente**&#10;&#10;**¡Todo listo para usar!** &#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/App.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/App.kt" />
              <option name="originalContent" value="package com.example.f1_app&#10;&#10;import android.app.Application&#10;import com.example.f1_app.core.config.di.remoteConfigModule&#10;import com.example.f1_app.di.appModule&#10;import com.example.f1_app.features.auth.di.authModule&#10;import org.koin.android.ext.koin.androidContext&#10;import org.koin.core.context.startKoin&#10;&#10;class App: Application() {&#10;    override fun onCreate() {&#10;        super.onCreate()&#10;        startKoin {&#10;            androidContext(this@App)&#10;            modules(appModule, authModule, remoteConfigModule)&#10;        }&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.example.f1_app&#10;&#10;import android.app.Application&#10;import com.example.f1_app.core.config.di.remoteConfigModule&#10;import com.example.f1_app.di.appModule&#10;import com.example.f1_app.features.auth.di.authModule&#10;import com.example.f1_app.features.home.di.homeModule&#10;import org.koin.android.ext.koin.androidContext&#10;import org.koin.core.context.startKoin&#10;&#10;class App: Application() {&#10;    override fun onCreate() {&#10;        super.onCreate()&#10;        startKoin {&#10;            androidContext(this@App)&#10;            modules(appModule, authModule, remoteConfigModule, homeModule)&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/di/modules.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/di/modules.kt" />
              <option name="originalContent" value="package com.example.f1_app.di&#10;&#10;import com.example.f1_app.features.auth.di.authModule&#10;import com.example.f1_app.features.home.data.repository.HomeRepositoryImpl&#10;import com.example.f1_app.features.home.domain.repository.HomeRepository&#10;import com.example.f1_app.features.home.domain.usecase.GetHomeOverviewUseCase&#10;import com.example.f1_app.features.home.presentation.HomeViewModel&#10;import com.example.f1_app.features.calendar.data.api.OpenF1Service&#10;import com.example.f1_app.features.calendar.data.datasource.CalendarRemoteDataSource&#10;import com.example.f1_app.features.calendar.data.repository.CalendarRepositoryImpl&#10;import com.example.f1_app.features.calendar.domain.repository.CalendarRepository&#10;import com.example.f1_app.features.calendar.domain.usecase.GetMeetingsUseCase&#10;import com.example.f1_app.features.calendar.presentation.CalendarViewModel&#10;import com.example.f1_app.features.drivers.data.api.DriversApiService&#10;import com.example.f1_app.features.drivers.data.datasource.DriverRemoteDataSource&#10;import com.example.f1_app.features.drivers.data.repository.DriverRepositoryImpl&#10;import com.example.f1_app.features.drivers.domain.repository.DriverRepository&#10;import com.example.f1_app.features.drivers.domain.usecase.GetDriversUseCase&#10;import com.example.f1_app.features.drivers.presentation.DriverViewModel&#10;import com.example.f1_app.features.teams.data.api.TeamsApiService&#10;import com.example.f1_app.features.teams.data.datasource.TeamsRemoteDataSource&#10;import com.example.f1_app.features.teams.data.repository.TeamsRepositoryImpl&#10;import com.example.f1_app.features.teams.domain.repository.TeamsRepository&#10;import com.example.f1_app.features.teams.domain.usecase.GetTeamsUseCase&#10;import com.example.f1_app.features.teams.presentation.TeamsViewModel&#10;import com.example.f1_app.features.news.data.api.NewsApiService&#10;import com.example.f1_app.features.news.data.datasource.NewsRemoteDataSource&#10;import com.example.f1_app.features.news.data.repository.NewsRepositoryImpl&#10;import com.example.f1_app.features.news.domain.repository.NewsRepository&#10;import com.example.f1_app.features.news.domain.usecase.GetNewsUseCase&#10;import com.example.f1_app.features.news.presentation.NewsViewModel&#10;import com.example.f1_app.features.results.data.api.ResultsApiService&#10;import com.example.f1_app.features.results.data.datasource.ResultsRemoteDataSource&#10;import com.example.f1_app.features.results.data.repository.ResultsRepositoryImpl&#10;import com.example.f1_app.features.results.domain.repository.ResultsRepository&#10;import com.example.f1_app.features.results.domain.usecase.GetSessionResultsUseCase&#10;import com.example.f1_app.features.results.domain.usecase.SearchSessionsUseCase&#10;import com.example.f1_app.features.results.presentation.ResultsViewModel&#10;import com.example.f1_app.features.results.domain.usecase.GetFastestLapUseCase&#10;import com.squareup.moshi.Moshi&#10;import com.squareup.moshi.kotlin.reflect.KotlinJsonAdapterFactory&#10;import okhttp3.OkHttpClient&#10;import okhttp3.logging.HttpLoggingInterceptor&#10;import org.koin.androidx.viewmodel.dsl.viewModel&#10;import org.koin.core.qualifier.named&#10;import org.koin.dsl.module&#10;import retrofit2.Retrofit&#10;import retrofit2.converter.moshi.MoshiConverterFactory&#10;&#10;val appModule = module {&#10;    single&lt;HomeRepository&gt;{ HomeRepositoryImpl() }&#10;    factory { GetHomeOverviewUseCase(get()) }&#10;    viewModel { HomeViewModel(get(), get(), get()) }&#10;&#10;    // Networking&#10;    single {&#10;        val logging = HttpLoggingInterceptor().apply { level = HttpLoggingInterceptor.Level.BASIC }&#10;        OkHttpClient.Builder()&#10;            .addInterceptor(logging)&#10;            .build()&#10;    }&#10;    // Moshi with Kotlin support (required for Kotlin data classes)&#10;    single {&#10;        Moshi.Builder()&#10;            .addLast(KotlinJsonAdapterFactory())&#10;            .build()&#10;    }&#10;    single {&#10;        Retrofit.Builder()&#10;            .baseUrl(&quot;https://api.openf1.org/&quot;)&#10;            .addConverterFactory(MoshiConverterFactory.create(get()))&#10;            .client(get())&#10;            .build()&#10;    }&#10;    single&lt;OpenF1Service&gt; { get&lt;Retrofit&gt;().create(OpenF1Service::class.java) }&#10;    single&lt;ResultsApiService&gt; { get&lt;Retrofit&gt;().create(ResultsApiService::class.java) }&#10;&#10;    // Calendar feature&#10;    single { CalendarRemoteDataSource(get()) }&#10;    single&lt;CalendarRepository&gt; { CalendarRepositoryImpl(get()) }&#10;    factory { GetMeetingsUseCase(get()) }&#10;    viewModel { CalendarViewModel(get()) }&#10;&#10;    // Drivers Feature&#10;    single&lt;DriversApiService&gt; { get&lt;Retrofit&gt;().create(DriversApiService::class.java) }&#10;    single { DriverRemoteDataSource(get()) }&#10;    single&lt;DriverRepository&gt; { DriverRepositoryImpl(get()) }&#10;    factory { GetDriversUseCase(get()) }&#10;    viewModel { DriverViewModel(get()) }&#10;&#10;&#10;    // Teams Feature&#10;    single(named(&quot;TeamsRetrofit&quot;)) {&#10;        Retrofit.Builder()&#10;            .baseUrl(&quot;https://v1.formula-1.api-sports.io/&quot;)&#10;            .addConverterFactory(MoshiConverterFactory.create(get()))&#10;            .client(get())&#10;            .build()&#10;    }&#10;&#10;    single&lt;TeamsApiService&gt; { get&lt;Retrofit&gt;(named(&quot;TeamsRetrofit&quot;)).create(TeamsApiService::class.java) }&#10;    single { TeamsRemoteDataSource(get()) }&#10;    single&lt;TeamsRepository&gt; { TeamsRepositoryImpl(get()) }&#10;    factory { GetTeamsUseCase(get()) }&#10;    viewModel { TeamsViewModel(get()) }&#10;&#10;    // News Feature&#10;    single(named(&quot;NewsRetrofit&quot;)) {&#10;        Retrofit.Builder()&#10;            .baseUrl(&quot;https://f1-latest-news.p.rapidapi.com/&quot;)&#10;            .addConverterFactory(MoshiConverterFactory.create(get()))&#10;            .client(get())&#10;            .build()&#10;    }&#10;    single&lt;NewsApiService&gt; { get&lt;Retrofit&gt;(named(&quot;NewsRetrofit&quot;)).create(NewsApiService::class.java) }&#10;    single { NewsRemoteDataSource(get()) }&#10;    single&lt;NewsRepository&gt; { NewsRepositoryImpl(get()) }&#10;    factory { GetNewsUseCase(get()) }&#10;    viewModel { NewsViewModel(get()) }&#10;&#10;    // Results Feature&#10;    single { ResultsRemoteDataSource(get()) }&#10;    single&lt;ResultsRepository&gt; { ResultsRepositoryImpl(get()) }&#10;    factory { SearchSessionsUseCase(get()) }&#10;    factory { GetSessionResultsUseCase(get()) }&#10;    factory { GetFastestLapUseCase(get()) }&#10;    viewModel { ResultsViewModel(get(), get(), get(), get()) }&#10;}" />
              <option name="updatedContent" value="package com.example.f1_app.di&#10;&#10;import com.example.f1_app.features.calendar.data.api.OpenF1Service&#10;import com.example.f1_app.features.calendar.data.datasource.CalendarRemoteDataSource&#10;import com.example.f1_app.features.calendar.data.repository.CalendarRepositoryImpl&#10;import com.example.f1_app.features.calendar.domain.repository.CalendarRepository&#10;import com.example.f1_app.features.calendar.domain.usecase.GetMeetingsUseCase&#10;import com.example.f1_app.features.calendar.presentation.CalendarViewModel&#10;import com.example.f1_app.features.drivers.data.api.DriversApiService&#10;import com.example.f1_app.features.drivers.data.datasource.DriverRemoteDataSource&#10;import com.example.f1_app.features.drivers.data.repository.DriverRepositoryImpl&#10;import com.example.f1_app.features.drivers.domain.repository.DriverRepository&#10;import com.example.f1_app.features.drivers.domain.usecase.GetDriversUseCase&#10;import com.example.f1_app.features.drivers.presentation.DriverViewModel&#10;import com.example.f1_app.features.teams.data.api.TeamsApiService&#10;import com.example.f1_app.features.teams.data.datasource.TeamsRemoteDataSource&#10;import com.example.f1_app.features.teams.data.repository.TeamsRepositoryImpl&#10;import com.example.f1_app.features.teams.domain.repository.TeamsRepository&#10;import com.example.f1_app.features.teams.domain.usecase.GetTeamsUseCase&#10;import com.example.f1_app.features.teams.presentation.TeamsViewModel&#10;import com.example.f1_app.features.news.data.api.NewsApiService&#10;import com.example.f1_app.features.news.data.datasource.NewsRemoteDataSource&#10;import com.example.f1_app.features.news.data.repository.NewsRepositoryImpl&#10;import com.example.f1_app.features.news.domain.repository.NewsRepository&#10;import com.example.f1_app.features.news.domain.usecase.GetNewsUseCase&#10;import com.example.f1_app.features.news.presentation.NewsViewModel&#10;import com.example.f1_app.features.results.data.api.ResultsApiService&#10;import com.example.f1_app.features.results.data.datasource.ResultsRemoteDataSource&#10;import com.example.f1_app.features.results.data.repository.ResultsRepositoryImpl&#10;import com.example.f1_app.features.results.domain.repository.ResultsRepository&#10;import com.example.f1_app.features.results.domain.usecase.GetSessionResultsUseCase&#10;import com.example.f1_app.features.results.domain.usecase.SearchSessionsUseCase&#10;import com.example.f1_app.features.results.presentation.ResultsViewModel&#10;import com.example.f1_app.features.results.domain.usecase.GetFastestLapUseCase&#10;import com.squareup.moshi.Moshi&#10;import com.squareup.moshi.kotlin.reflect.KotlinJsonAdapterFactory&#10;import okhttp3.OkHttpClient&#10;import okhttp3.logging.HttpLoggingInterceptor&#10;import org.koin.androidx.viewmodel.dsl.viewModel&#10;import org.koin.core.qualifier.named&#10;import org.koin.dsl.module&#10;import retrofit2.Retrofit&#10;import retrofit2.converter.moshi.MoshiConverterFactory&#10;&#10;val appModule = module {&#10;    // Home module is now separate - see homeModule&#10;&#10;    // Networking&#10;    single {&#10;        val logging = HttpLoggingInterceptor().apply { level = HttpLoggingInterceptor.Level.BASIC }&#10;        OkHttpClient.Builder()&#10;            .addInterceptor(logging)&#10;            .build()&#10;    }&#10;    // Moshi with Kotlin support (required for Kotlin data classes)&#10;    single {&#10;        Moshi.Builder()&#10;            .addLast(KotlinJsonAdapterFactory())&#10;            .build()&#10;    }&#10;    single {&#10;        Retrofit.Builder()&#10;            .baseUrl(&quot;https://api.openf1.org/&quot;)&#10;            .addConverterFactory(MoshiConverterFactory.create(get()))&#10;            .client(get())&#10;            .build()&#10;    }&#10;    single&lt;OpenF1Service&gt; { get&lt;Retrofit&gt;().create(OpenF1Service::class.java) }&#10;    single&lt;ResultsApiService&gt; { get&lt;Retrofit&gt;().create(ResultsApiService::class.java) }&#10;&#10;    // Calendar feature&#10;    single { CalendarRemoteDataSource(get()) }&#10;    single&lt;CalendarRepository&gt; { CalendarRepositoryImpl(get()) }&#10;    factory { GetMeetingsUseCase(get()) }&#10;    viewModel { CalendarViewModel(get()) }&#10;&#10;    // Drivers Feature&#10;    single&lt;DriversApiService&gt; { get&lt;Retrofit&gt;().create(DriversApiService::class.java) }&#10;    single { DriverRemoteDataSource(get()) }&#10;    single&lt;DriverRepository&gt; { DriverRepositoryImpl(get()) }&#10;    factory { GetDriversUseCase(get()) }&#10;    viewModel { DriverViewModel(get()) }&#10;&#10;&#10;    // Teams Feature&#10;    single(named(&quot;TeamsRetrofit&quot;)) {&#10;        Retrofit.Builder()&#10;            .baseUrl(&quot;https://v1.formula-1.api-sports.io/&quot;)&#10;            .addConverterFactory(MoshiConverterFactory.create(get()))&#10;            .client(get())&#10;            .build()&#10;    }&#10;&#10;    single&lt;TeamsApiService&gt; { get&lt;Retrofit&gt;(named(&quot;TeamsRetrofit&quot;)).create(TeamsApiService::class.java) }&#10;    single { TeamsRemoteDataSource(get()) }&#10;    single&lt;TeamsRepository&gt; { TeamsRepositoryImpl(get()) }&#10;    factory { GetTeamsUseCase(get()) }&#10;    viewModel { TeamsViewModel(get()) }&#10;&#10;    // News Feature&#10;    single(named(&quot;NewsRetrofit&quot;)) {&#10;        Retrofit.Builder()&#10;            .baseUrl(&quot;https://f1-latest-news.p.rapidapi.com/&quot;)&#10;            .addConverterFactory(MoshiConverterFactory.create(get()))&#10;            .client(get())&#10;            .build()&#10;    }&#10;    single&lt;NewsApiService&gt; { get&lt;Retrofit&gt;(named(&quot;NewsRetrofit&quot;)).create(NewsApiService::class.java) }&#10;    single { NewsRemoteDataSource(get()) }&#10;    single&lt;NewsRepository&gt; { NewsRepositoryImpl(get()) }&#10;    factory { GetNewsUseCase(get()) }&#10;    viewModel { NewsViewModel(get()) }&#10;&#10;    // Results Feature&#10;    single { ResultsRemoteDataSource(get()) }&#10;    single&lt;ResultsRepository&gt; { ResultsRepositoryImpl(get()) }&#10;    factory { SearchSessionsUseCase(get()) }&#10;    factory { GetSessionResultsUseCase(get()) }&#10;    factory { GetFastestLapUseCase(get()) }&#10;    viewModel { ResultsViewModel(get(), get(), get(), get()) }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/features/auth/presentation/LoginScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/features/auth/presentation/LoginScreen.kt" />
              <option name="originalContent" value="package com.example.f1_app.features.auth.presentation&#10;&#10;import androidx.compose.animation.AnimatedVisibility&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.text.KeyboardActions&#10;import androidx.compose.foundation.text.KeyboardOptions&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.Close&#10;import androidx.compose.material.icons.filled.Email&#10;import androidx.compose.material.icons.filled.Lock&#10;import androidx.compose.material.icons.filled.Visibility&#10;import androidx.compose.material.icons.filled.VisibilityOff&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.focus.FocusDirection&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.platform.LocalFocusManager&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.input.ImeAction&#10;import androidx.compose.ui.text.input.KeyboardType&#10;import androidx.compose.ui.text.input.PasswordVisualTransformation&#10;import androidx.compose.ui.text.input.VisualTransformation&#10;import androidx.compose.ui.text.style.TextAlign&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import org.koin.androidx.compose.koinViewModel&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun LoginScreen(&#10;    onLoginSuccess: () -&gt; Unit,&#10;    onSkip: () -&gt; Unit,&#10;    viewModel: LoginViewModel = koinViewModel()&#10;) {&#10;    val uiState by viewModel.uiState.collectAsState()&#10;    val focusManager = LocalFocusManager.current&#10;    var passwordVisible by remember { mutableStateOf(false) }&#10;&#10;    LaunchedEffect(uiState.isLoginSuccessful) {&#10;        if (uiState.isLoginSuccessful) {&#10;            onLoginSuccess()&#10;        }&#10;    }&#10;&#10;    Scaffold(&#10;        topBar = {&#10;            TopAppBar(&#10;                title = { },&#10;                actions = {&#10;                    IconButton(onClick = onSkip) {&#10;                        Icon(&#10;                            imageVector = Icons.Default.Close,&#10;                            contentDescription = &quot;Saltar login&quot;,&#10;                            tint = MaterialTheme.colorScheme.onSurface&#10;                        )&#10;                    }&#10;                },&#10;                colors = TopAppBarDefaults.topAppBarColors(&#10;                    containerColor = Color.Transparent&#10;                )&#10;            )&#10;        }&#10;    ) { paddingValues -&gt;&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .padding(paddingValues)&#10;                .verticalScroll(rememberScrollState())&#10;        ) {&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .padding(24.dp),&#10;                horizontalAlignment = Alignment.CenterHorizontally,&#10;                verticalArrangement = Arrangement.Center&#10;            ) {&#10;                Spacer(modifier = Modifier.height(32.dp))&#10;&#10;                // Logo or Title&#10;                Text(&#10;                    text = &quot;️&quot;,&#10;                    fontSize = 72.sp,&#10;                    modifier = Modifier.padding(bottom = 16.dp)&#10;                )&#10;&#10;                Text(&#10;                    text = &quot;F1 Companion App&quot;,&#10;                    style = MaterialTheme.typography.headlineLarge,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = MaterialTheme.colorScheme.primary&#10;                )&#10;&#10;                Text(&#10;                    text = &quot;Inicia sesión para continuar&quot;,&#10;                    style = MaterialTheme.typography.bodyLarge,&#10;                    color = MaterialTheme.colorScheme.onSurfaceVariant,&#10;                    modifier = Modifier.padding(top = 8.dp, bottom = 32.dp)&#10;                )&#10;&#10;                // Email Field&#10;                OutlinedTextField(&#10;                    value = uiState.email,&#10;                    onValueChange = { viewModel.onEmailChange(it) },&#10;                    label = { Text(&quot;Correo electrónico&quot;) },&#10;                    leadingIcon = {&#10;                        Icon(&#10;                            imageVector = Icons.Default.Email,&#10;                            contentDescription = &quot;Email&quot;&#10;                        )&#10;                    },&#10;                    keyboardOptions = KeyboardOptions(&#10;                        keyboardType = KeyboardType.Email,&#10;                        imeAction = ImeAction.Next&#10;                    ),&#10;                    keyboardActions = KeyboardActions(&#10;                        onNext = { focusManager.moveFocus(FocusDirection.Down) }&#10;                    ),&#10;                    singleLine = true,&#10;                    isError = uiState.emailError != null,&#10;                    supportingText = {&#10;                        uiState.emailError?.let { error -&gt;&#10;                            Text(&#10;                                text = error,&#10;                                color = MaterialTheme.colorScheme.error&#10;                            )&#10;                        }&#10;                    },&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(bottom = 8.dp),&#10;                    shape = RoundedCornerShape(12.dp)&#10;                )&#10;&#10;                // Password Field&#10;                OutlinedTextField(&#10;                    value = uiState.password,&#10;                    onValueChange = { viewModel.onPasswordChange(it) },&#10;                    label = { Text(&quot;Contraseña&quot;) },&#10;                    leadingIcon = {&#10;                        Icon(&#10;                            imageVector = Icons.Default.Lock,&#10;                            contentDescription = &quot;Password&quot;&#10;                        )&#10;                    },&#10;                    trailingIcon = {&#10;                        IconButton(onClick = { passwordVisible = !passwordVisible }) {&#10;                            Icon(&#10;                                imageVector = if (passwordVisible)&#10;                                    Icons.Default.Visibility&#10;                                else&#10;                                    Icons.Default.VisibilityOff,&#10;                                contentDescription = if (passwordVisible)&#10;                                    &quot;Ocultar contraseña&quot;&#10;                                else&#10;                                    &quot;Mostrar contraseña&quot;&#10;                            )&#10;                        }&#10;                    },&#10;                    visualTransformation = if (passwordVisible)&#10;                        VisualTransformation.None&#10;                    else&#10;                        PasswordVisualTransformation(),&#10;                    keyboardOptions = KeyboardOptions(&#10;                        keyboardType = KeyboardType.Password,&#10;                        imeAction = ImeAction.Done&#10;                    ),&#10;                    keyboardActions = KeyboardActions(&#10;                        onDone = {&#10;                            focusManager.clearFocus()&#10;                            viewModel.onLoginClick()&#10;                        }&#10;                    ),&#10;                    singleLine = true,&#10;                    isError = uiState.passwordError != null,&#10;                    supportingText = {&#10;                        uiState.passwordError?.let { error -&gt;&#10;                            Text(&#10;                                text = error,&#10;                                color = MaterialTheme.colorScheme.error&#10;                            )&#10;                        }&#10;                    },&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(bottom = 16.dp),&#10;                    shape = RoundedCornerShape(12.dp)&#10;                )&#10;&#10;                // Error Message&#10;                AnimatedVisibility(visible = uiState.errorMessage != null) {&#10;                    Card(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .padding(bottom = 16.dp),&#10;                        colors = CardDefaults.cardColors(&#10;                            containerColor = MaterialTheme.colorScheme.errorContainer&#10;                        ),&#10;                        shape = RoundedCornerShape(12.dp)&#10;                    ) {&#10;                        Text(&#10;                            text = uiState.errorMessage ?: &quot;&quot;,&#10;                            color = MaterialTheme.colorScheme.onErrorContainer,&#10;                            modifier = Modifier.padding(16.dp),&#10;                            style = MaterialTheme.typography.bodyMedium&#10;                        )&#10;                    }&#10;                }&#10;&#10;                // Login Button&#10;                Button(&#10;                    onClick = { viewModel.onLoginClick() },&#10;                    enabled = !uiState.isLoading,&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .height(56.dp),&#10;                    shape = RoundedCornerShape(12.dp)&#10;                ) {&#10;                    if (uiState.isLoading) {&#10;                        CircularProgressIndicator(&#10;                            modifier = Modifier.size(24.dp),&#10;                            color = MaterialTheme.colorScheme.onPrimary&#10;                        )&#10;                    } else {&#10;                        Text(&#10;                            text = &quot;Iniciar Sesión&quot;,&#10;                            fontSize = 16.sp,&#10;                            fontWeight = FontWeight.Bold&#10;                        )&#10;                    }&#10;                }&#10;&#10;                Spacer(modifier = Modifier.height(16.dp))&#10;&#10;                // Skip Button&#10;                TextButton(&#10;                    onClick = onSkip,&#10;                    modifier = Modifier.fillMaxWidth()&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Continuar sin iniciar sesión&quot;,&#10;                        style = MaterialTheme.typography.bodyMedium,&#10;                        color = MaterialTheme.colorScheme.primary&#10;                    )&#10;                }&#10;&#10;                Spacer(modifier = Modifier.height(32.dp))&#10;&#10;                // Info text&#10;                Text(&#10;                    text = &quot;Al iniciar sesión, podrás guardar tus preferencias y sincronizar tu información&quot;,&#10;                    style = MaterialTheme.typography.bodySmall,&#10;                    color = MaterialTheme.colorScheme.onSurfaceVariant,&#10;                    textAlign = TextAlign.Center,&#10;                    modifier = Modifier.padding(horizontal = 16.dp)&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.f1_app.features.auth.presentation&#10;&#10;import androidx.compose.animation.AnimatedVisibility&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.text.KeyboardActions&#10;import androidx.compose.foundation.text.KeyboardOptions&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.Close&#10;import androidx.compose.material.icons.filled.Email&#10;import androidx.compose.material.icons.filled.Lock&#10;import androidx.compose.material.icons.filled.Visibility&#10;import androidx.compose.material.icons.filled.VisibilityOff&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.focus.FocusDirection&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.platform.LocalFocusManager&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.input.ImeAction&#10;import androidx.compose.ui.text.input.KeyboardType&#10;import androidx.compose.ui.text.input.PasswordVisualTransformation&#10;import androidx.compose.ui.text.input.VisualTransformation&#10;import androidx.compose.ui.text.style.TextAlign&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import org.koin.androidx.compose.koinViewModel&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun LoginScreen(&#10;    onLoginSuccess: () -&gt; Unit,&#10;    onNavigateToSignUp: () -&gt; Unit,&#10;    onSkip: () -&gt; Unit,&#10;    viewModel: LoginViewModel = koinViewModel()&#10;) {&#10;    val uiState by viewModel.uiState.collectAsState()&#10;    val focusManager = LocalFocusManager.current&#10;    var passwordVisible by remember { mutableStateOf(false) }&#10;&#10;    LaunchedEffect(uiState.isLoginSuccessful) {&#10;        if (uiState.isLoginSuccessful) {&#10;            onLoginSuccess()&#10;        }&#10;    }&#10;&#10;    Scaffold(&#10;        topBar = {&#10;            TopAppBar(&#10;                title = { },&#10;                actions = {&#10;                    IconButton(onClick = onSkip) {&#10;                        Icon(&#10;                            imageVector = Icons.Default.Close,&#10;                            contentDescription = &quot;Saltar login&quot;,&#10;                            tint = MaterialTheme.colorScheme.onSurface&#10;                        )&#10;                    }&#10;                },&#10;                colors = TopAppBarDefaults.topAppBarColors(&#10;                    containerColor = Color.Transparent&#10;                )&#10;            )&#10;        }&#10;    ) { paddingValues -&gt;&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .padding(paddingValues)&#10;                .verticalScroll(rememberScrollState())&#10;        ) {&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxSize()&#10;                    .padding(24.dp),&#10;                horizontalAlignment = Alignment.CenterHorizontally,&#10;                verticalArrangement = Arrangement.Center&#10;            ) {&#10;                Spacer(modifier = Modifier.height(32.dp))&#10;&#10;                // Logo or Title&#10;                Text(&#10;                    text = &quot;️&quot;,&#10;                    fontSize = 72.sp,&#10;                    modifier = Modifier.padding(bottom = 16.dp)&#10;                )&#10;&#10;                Text(&#10;                    text = &quot;F1 Companion App&quot;,&#10;                    style = MaterialTheme.typography.headlineLarge,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = MaterialTheme.colorScheme.primary&#10;                )&#10;&#10;                Text(&#10;                    text = &quot;Inicia sesión para continuar&quot;,&#10;                    style = MaterialTheme.typography.bodyLarge,&#10;                    color = MaterialTheme.colorScheme.onSurfaceVariant,&#10;                    modifier = Modifier.padding(top = 8.dp, bottom = 32.dp)&#10;                )&#10;&#10;                // Email Field&#10;                OutlinedTextField(&#10;                    value = uiState.email,&#10;                    onValueChange = { viewModel.onEmailChange(it) },&#10;                    label = { Text(&quot;Correo electrónico&quot;) },&#10;                    leadingIcon = {&#10;                        Icon(&#10;                            imageVector = Icons.Default.Email,&#10;                            contentDescription = &quot;Email&quot;&#10;                        )&#10;                    },&#10;                    keyboardOptions = KeyboardOptions(&#10;                        keyboardType = KeyboardType.Email,&#10;                        imeAction = ImeAction.Next&#10;                    ),&#10;                    keyboardActions = KeyboardActions(&#10;                        onNext = { focusManager.moveFocus(FocusDirection.Down) }&#10;                    ),&#10;                    singleLine = true,&#10;                    isError = uiState.emailError != null,&#10;                    supportingText = {&#10;                        uiState.emailError?.let { error -&gt;&#10;                            Text(&#10;                                text = error,&#10;                                color = MaterialTheme.colorScheme.error&#10;                            )&#10;                        }&#10;                    },&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(bottom = 8.dp),&#10;                    shape = RoundedCornerShape(12.dp)&#10;                )&#10;&#10;                // Password Field&#10;                OutlinedTextField(&#10;                    value = uiState.password,&#10;                    onValueChange = { viewModel.onPasswordChange(it) },&#10;                    label = { Text(&quot;Contraseña&quot;) },&#10;                    leadingIcon = {&#10;                        Icon(&#10;                            imageVector = Icons.Default.Lock,&#10;                            contentDescription = &quot;Password&quot;&#10;                        )&#10;                    },&#10;                    trailingIcon = {&#10;                        IconButton(onClick = { passwordVisible = !passwordVisible }) {&#10;                            Icon(&#10;                                imageVector = if (passwordVisible)&#10;                                    Icons.Default.Visibility&#10;                                else&#10;                                    Icons.Default.VisibilityOff,&#10;                                contentDescription = if (passwordVisible)&#10;                                    &quot;Ocultar contraseña&quot;&#10;                                else&#10;                                    &quot;Mostrar contraseña&quot;&#10;                            )&#10;                        }&#10;                    },&#10;                    visualTransformation = if (passwordVisible)&#10;                        VisualTransformation.None&#10;                    else&#10;                        PasswordVisualTransformation(),&#10;                    keyboardOptions = KeyboardOptions(&#10;                        keyboardType = KeyboardType.Password,&#10;                        imeAction = ImeAction.Done&#10;                    ),&#10;                    keyboardActions = KeyboardActions(&#10;                        onDone = {&#10;                            focusManager.clearFocus()&#10;                            viewModel.onLoginClick()&#10;                        }&#10;                    ),&#10;                    singleLine = true,&#10;                    isError = uiState.passwordError != null,&#10;                    supportingText = {&#10;                        uiState.passwordError?.let { error -&gt;&#10;                            Text(&#10;                                text = error,&#10;                                color = MaterialTheme.colorScheme.error&#10;                            )&#10;                        }&#10;                    },&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(bottom = 16.dp),&#10;                    shape = RoundedCornerShape(12.dp)&#10;                )&#10;&#10;                // Error Message&#10;                AnimatedVisibility(visible = uiState.errorMessage != null) {&#10;                    Card(&#10;                        modifier = Modifier&#10;                            .fillMaxWidth()&#10;                            .padding(bottom = 16.dp),&#10;                        colors = CardDefaults.cardColors(&#10;                            containerColor = MaterialTheme.colorScheme.errorContainer&#10;                        ),&#10;                        shape = RoundedCornerShape(12.dp)&#10;                    ) {&#10;                        Text(&#10;                            text = uiState.errorMessage ?: &quot;&quot;,&#10;                            color = MaterialTheme.colorScheme.onErrorContainer,&#10;                            modifier = Modifier.padding(16.dp),&#10;                            style = MaterialTheme.typography.bodyMedium&#10;                        )&#10;                    }&#10;                }&#10;&#10;                // Login Button&#10;                Button(&#10;                    onClick = { viewModel.onLoginClick() },&#10;                    enabled = !uiState.isLoading,&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .height(56.dp),&#10;                    shape = RoundedCornerShape(12.dp)&#10;                ) {&#10;                    if (uiState.isLoading) {&#10;                        CircularProgressIndicator(&#10;                            modifier = Modifier.size(24.dp),&#10;                            color = MaterialTheme.colorScheme.onPrimary&#10;                        )&#10;                    } else {&#10;                        Text(&#10;                            text = &quot;Iniciar Sesión&quot;,&#10;                            fontSize = 16.sp,&#10;                            fontWeight = FontWeight.Bold&#10;                        )&#10;                    }&#10;                }&#10;&#10;                Spacer(modifier = Modifier.height(16.dp))&#10;&#10;                // SignUp Navigation&#10;                Row(&#10;                    horizontalArrangement = Arrangement.Center,&#10;                    verticalAlignment = Alignment.CenterVertically,&#10;                    modifier = Modifier.fillMaxWidth()&#10;                ) {&#10;                    Text(&#10;                        text = &quot;¿No tienes cuenta?&quot;,&#10;                        style = MaterialTheme.typography.bodyMedium,&#10;                        color = MaterialTheme.colorScheme.onSurfaceVariant&#10;                    )&#10;                    TextButton(onClick = onNavigateToSignUp) {&#10;                        Text(&#10;                            text = &quot;Registrarse&quot;,&#10;                            style = MaterialTheme.typography.bodyMedium,&#10;                            fontWeight = FontWeight.Bold&#10;                        )&#10;                    }&#10;                }&#10;&#10;                Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                // Skip Button&#10;                TextButton(&#10;                    onClick = onSkip,&#10;                    modifier = Modifier.fillMaxWidth()&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Continuar sin iniciar sesión&quot;,&#10;                        style = MaterialTheme.typography.bodyMedium,&#10;                        color = MaterialTheme.colorScheme.primary&#10;                    )&#10;                }&#10;&#10;                Spacer(modifier = Modifier.height(32.dp))&#10;&#10;                // Info text&#10;                Text(&#10;                    text = &quot;Al iniciar sesión, podrás guardar tus preferencias y sincronizar tu información&quot;,&#10;                    style = MaterialTheme.typography.bodySmall,&#10;                    color = MaterialTheme.colorScheme.onSurfaceVariant,&#10;                    textAlign = TextAlign.Center,&#10;                    modifier = Modifier.padding(horizontal = 16.dp)&#10;                )&#10;            }&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/features/home/data/datasource/HomeRemoteDataSource.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/features/home/data/datasource/HomeRemoteDataSource.kt" />
              <option name="updatedContent" value="package com.example.f1_app.features.home.data.datasource&#10;&#10;import com.example.f1_app.features.home.domain.model.HomeOverview&#10;&#10;interface HomeRemoteDataSource {&#10;    suspend fun getOverview(): HomeOverview&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/features/home/data/repository/HomeRepositoryImpl.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/features/home/data/repository/HomeRepositoryImpl.kt" />
              <option name="updatedContent" value="package com.example.f1_app.features.home.data.repository&#10;&#10;import com.example.f1_app.features.home.data.datasource.HomeRemoteDataSource&#10;import com.example.f1_app.features.home.domain.model.HomeOverview&#10;import com.example.f1_app.features.home.domain.repository.HomeRepository&#10;&#10;class HomeRepositoryImpl(&#10;    private val remoteDataSource: HomeRemoteDataSource&#10;) : HomeRepository {&#10;    &#10;    override suspend fun getOverview(): HomeOverview {&#10;        return remoteDataSource.getOverview()&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/features/home/di/HomeModule.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/features/home/di/HomeModule.kt" />
              <option name="updatedContent" value="package com.example.f1_app.features.home.di&#10;&#10;import com.example.f1_app.features.home.data.datasource.HomeRemoteDataSource&#10;import com.example.f1_app.features.home.data.repository.HomeRepositoryImpl&#10;import com.example.f1_app.features.home.domain.repository.HomeRepository&#10;import com.example.f1_app.features.home.domain.usecase.GetHomeOverviewUseCase&#10;import com.example.f1_app.features.home.framework.FirebaseHomeDataSource&#10;import com.example.f1_app.features.home.presentation.HomeViewModel&#10;import com.google.firebase.database.FirebaseDatabase&#10;import org.koin.androidx.viewmodel.dsl.viewModel&#10;import org.koin.dsl.module&#10;&#10;val homeModule = module {&#10;    // Firebase Database&#10;    single { &#10;        FirebaseDatabase.getInstance() &#10;    }&#10;    &#10;    // Data sources&#10;    single&lt;HomeRemoteDataSource&gt; { &#10;        FirebaseHomeDataSource(get()) &#10;    }&#10;    &#10;    // Repository&#10;    single&lt;HomeRepository&gt; { &#10;        HomeRepositoryImpl(get()) &#10;    }&#10;    &#10;    // Use cases&#10;    factory { &#10;        GetHomeOverviewUseCase(get()) &#10;    }&#10;    &#10;    // ViewModels&#10;    viewModel { &#10;        HomeViewModel(get(), get(), get()) &#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/features/home/domain/model/HomeOverview.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/features/home/domain/model/HomeOverview.kt" />
              <option name="updatedContent" value="package com.example.f1_app.features.home.domain.model&#10;&#10;data class HomeOverview(&#10;    val racesCompleted: Int = 0,&#10;    val driversOnPodium: Int = 0,&#10;    val safetyCars: Int = 0,&#10;    val nextRace: String = &quot;&quot;,&#10;    val weather: String = &quot;&quot;,&#10;    val firstPractice: String = &quot;&quot;&#10;)&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/features/home/domain/repository/HomeRepository.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/features/home/domain/repository/HomeRepository.kt" />
              <option name="updatedContent" value="package com.example.f1_app.features.home.domain.repository&#10;&#10;import com.example.f1_app.features.home.domain.model.HomeOverview&#10;&#10;interface HomeRepository {&#10;    suspend fun getOverview(): HomeOverview&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/features/home/domain/usecase/GetHomeOverviewUseCase.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/features/home/domain/usecase/GetHomeOverviewUseCase.kt" />
              <option name="updatedContent" value="package com.example.f1_app.features.home.domain.usecase&#10;&#10;import com.example.f1_app.features.home.domain.model.HomeOverview&#10;import com.example.f1_app.features.home.domain.repository.HomeRepository&#10;&#10;class GetHomeOverviewUseCase(&#10;    private val repository: HomeRepository&#10;) {&#10;    suspend operator fun invoke(): HomeOverview {&#10;        return repository.getOverview()&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/features/home/framework/FirebaseHomeDataSource.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/f1_app/features/home/framework/FirebaseHomeDataSource.kt" />
              <option name="updatedContent" value="package com.example.f1_app.features.home.framework&#10;&#10;import android.util.Log&#10;import com.example.f1_app.features.home.data.datasource.HomeRemoteDataSource&#10;import com.example.f1_app.features.home.domain.model.HomeOverview&#10;import com.google.firebase.database.DataSnapshot&#10;import com.google.firebase.database.DatabaseError&#10;import com.google.firebase.database.FirebaseDatabase&#10;import com.google.firebase.database.ValueEventListener&#10;import kotlinx.coroutines.suspendCancellableCoroutine&#10;import kotlin.coroutines.resume&#10;import kotlin.coroutines.resumeWithException&#10;&#10;class FirebaseHomeDataSource(&#10;    private val database: FirebaseDatabase&#10;) : HomeRemoteDataSource {&#10;&#10;    companion object {&#10;        private const val TAG = &quot;FirebaseHomeDataSource&quot;&#10;        private const val OVERVIEW_PATH = &quot;overview&quot;&#10;    }&#10;&#10;    override suspend fun getOverview(): HomeOverview = suspendCancellableCoroutine { continuation -&gt;&#10;        val reference = database.getReference(OVERVIEW_PATH)&#10;        &#10;        Log.d(TAG, &quot;Fetching overview from path: $OVERVIEW_PATH&quot;)&#10;        &#10;        val listener = object : ValueEventListener {&#10;            override fun onDataChange(snapshot: DataSnapshot) {&#10;                try {&#10;                    Log.d(TAG, &quot;Data received: ${snapshot.value}&quot;)&#10;                    &#10;                    // Extract data from snapshot according to the structure shown in the image&#10;                    val racesStr = snapshot.child(&quot;races&quot;).value?.toString() ?: &quot;0&quot;&#10;                    val races = racesStr.toIntOrNull() ?: 0&#10;                    &#10;                    val podiums = snapshot.child(&quot;podiums&quot;).value?.toString()?.toIntOrNull() ?: 0&#10;                    val safetyCars = snapshot.child(&quot;sc&quot;).value?.toString()?.toIntOrNull() ?: 0&#10;                    val nextRace = snapshot.child(&quot;next&quot;).value?.toString() ?: &quot;&quot;&#10;                    val weather = snapshot.child(&quot;weather&quot;).value?.toString() ?: &quot;&quot;&#10;                    val firstPractice = snapshot.child(&quot;fp1&quot;).value?.toString() ?: &quot;&quot;&#10;                    &#10;                    val overview = HomeOverview(&#10;                        racesCompleted = races,&#10;                        driversOnPodium = podiums,&#10;                        safetyCars = safetyCars,&#10;                        nextRace = nextRace,&#10;                        weather = weather,&#10;                        firstPractice = firstPractice&#10;                    )&#10;                    &#10;                    Log.d(TAG, &quot;Overview parsed: $overview&quot;)&#10;                    continuation.resume(overview)&#10;                } catch (e: Exception) {&#10;                    Log.e(TAG, &quot;Error parsing overview data&quot;, e)&#10;                    continuation.resumeWithException(e)&#10;                }&#10;            }&#10;&#10;            override fun onCancelled(error: DatabaseError) {&#10;                Log.e(TAG, &quot;Database error: ${error.message}&quot;)&#10;                continuation.resumeWithException(error.toException())&#10;            }&#10;        }&#10;        &#10;        reference.addListenerForSingleValueEvent(listener)&#10;        &#10;        continuation.invokeOnCancellation {&#10;            reference.removeEventListener(listener)&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>